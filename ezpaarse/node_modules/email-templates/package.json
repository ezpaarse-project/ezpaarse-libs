{
  "name": "email-templates",
  "description": "Node.js module for rendering beautiful emails with ejs, jade, swig, hbs, or handlebars templates and email-friendly inline CSS using juice.",
  "version": "1.0.0",
  "author": {
    "name": "Nick Baugh",
    "email": "niftylettuce@gmail.com"
  },
  "contributors": [
    {
      "name": "Nick Baugh",
      "email": "niftylettuce@gmail.com"
    },
    {
      "name": "Andrea Baccega",
      "email": "vekexasia@gmail.com"
    },
    {
      "name": "Nic Jansma",
      "url": "http://nicj.net"
    },
    {
      "name": "Jason Sims",
      "email": "sims.jrobert@gmail.com"
    },
    {
      "name": "Miguel Mota",
      "email": "hello@miguelmota.com"
    }
  ],
  "keywords": [
    "node-email-templates",
    "windows",
    "ejs",
    "email",
    "templates",
    "email-templates",
    "juice",
    "inline",
    "css"
  ],
  "homepage": "https://github.com/niftylettuce/node-email-templates",
  "repository": {
    "type": "git",
    "url": "https://github.com/niftylettuce/node-email-templates.git"
  },
  "engines": {
    "node": "0.10.x"
  },
  "main": "lib/main.js",
  "scripts": {
    "test": "./node_modules/.bin/mocha --reporter spec --ui bdd"
  },
  "dependencies": {
    "ejs": "^1.0.0",
    "juice2": "^0.6.0",
    "async": "^0.9.0",
    "underscore": "^1.6.0",
    "swig": "^1.3.2",
    "jade": "^1.3.1",
    "handlebars": "^1.3.0",
    "glob": "^4.0.0",
    "stylus": "^0.45.1",
    "styl": "^0.2.7",
    "node-sass": "^0.8.6",
    "less": "^1.7.0"
  },
  "devDependencies": {
    "nodemailer": "^0.3.44",
    "postmark": "^0.1.8",
    "mocha": "^1.19.0",
    "chai": "^1.9.1",
    "mkdirp": "^0.3.5",
    "rimraf": "^2.2.8"
  },
  "bugs": {
    "url": "https://github.com/niftylettuce/node-email-templates/issues/new"
  },
  "readme": "# node-email-templates [![Build Status](https://travis-ci.org/niftylettuce/node-email-templates.png?branch=master)](https://travis-ci.org/niftylettuce/node-email-templates) [![NPM version](https://badge.fury.io/js/email-templates.png)](http://badge.fury.io/js/email-templates-windows) [![Gittip](http://img.shields.io/gittip/niftylettuce.png)](https://www.gittip.com/niftylettuce/)\n\nNode.js module for rendering beautiful emails with your template engine and CSS pre-processor of choice coupled with email-friendly inline CSS using [juice][2].\n\n[jade]: https://github.com/visionmedia/jade\n[swig]: https://github.com/paularmstrong/swig\n[handlebars]: https://github.com/wycats/handlebars.js\n[less]: http://lesscss.org/\n[sass]: http://sass-lang.com/\n[stylus]: http://learnboost.github.io/stylus/\n[styl]: https://github.com/visionmedia/styl\n\nView documentation here <http://documentup.com/niftylettuce/node-email-templates>.\n\nFollow [@niftylettuce](http://twitter.com/niftylettuce) on Twitter for updates.\n\nLike this module?  Check out [express-cdn](https://github.com/niftylettuce/express-cdn)!\n\n<table>\n<thead>\n<tr>\n<th>The Rebel's Guide to Email Marketing</th>\n<th>Modern HTML Email</th>\n<th>Email Marketing By the Numbers</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"http://goo.gl/JplO3b\"><img src=\"http://ecx.images-amazon.com/images/I/51pDPeVKqqL._SL110_.jpg\" /></a></td>\n<td><a href=\"http://goo.gl/nKk41m\"><img src=\"http://ecx.images-amazon.com/images/I/41uTBv9KbhL._SL110_.jpg\" /></a></td>\n<td><a href=\"http://goo.gl/d1b82E\"><img src=\"http://ecx.images-amazon.com/images/I/51RX-csFsRL._SL110_.jpg\" /></a></td>\n</tr>\n</tbody>\n</table>\n\n## Index\n\n* [Email Templates](#email-templates)\n* [Installation](#installation)\n* [Quick Start](#quick-start)\n* [EJS Custom Tags](#ejs-custom-tags)\n* [Examples](#examples)\n    * [Basic](#basic)\n    * [Nodemailer](#nodemailer)\n    * [Postmark](#postmark)\n* [Lazyweb Requests](#lazyweb-requests)\n* [Changelog](#changelog)\n* [Contributors](#contributors)\n* [License](#license)\n\n\n## Email Templates\n\nFor professional and customizable email templates, please visit <https://github.com/mailchimp/Email-Blueprints>.\n\n#### Supported Template Engines\n * [ejs][1]\n * [jade][jade]\n * [swig][swig]\n * [handlebars][handlebars]\n\n#### Supported CSS Pre-processors\n * [less][less]\n * [sass][sass]\n * [stylus][stylus]\n * [styl][styl]\n\n## Prerequisites\nThis module depends on [jsdom](https://github.com/tmpvar/jsdom) which requires the ability to compile C++ on your localhost. Before installing, please verify that you have the prerequisites installed for your OS.\n * [OSX requirements](https://github.com/tmpvar/jsdom#mac)\n * [Linux requirements](https://github.com/tmpvar/jsdom#linux)\n\n#### Windows Users\nDeveloping on osx/linux is recommended but if you only have access to a Windows machine you can either:\n  1. Use [vagrant](http://www.vagrantup.com/) to create a linux dev environment (recommended)\n  2. Follow the [Windows installation guide](https://github.com/brianmcd/contextify/wiki/Windows-Installation-Guide) for contextify\n\n## Installation\n```bash\nnpm install email-templates\n```\n\n## Quick Start\n\n1. Install the module for your respective project `npm install email-templates`.\n2. Create a folder called `templates` inside your root directory (or elsewhere).\n3. For each of your templates, respectively name and create a folder inside the `templates` folder.\n4. Add the following files inside the template's folder:\n    * `html.{{template engine}}` - See [supported template engines](#supported-template-engines) (**required**)\n    * `text.{{template engine}}` - See [supported template engines](#supported-template-engines) (**optional**)\n    * `style.{{CSS pre-processor}}` - See [supported CSS pre-processors](#supported-css-pre-processors) (**optional**)\n5. You may use the `include` directive from ejs (for example, to include a common header or footer).  See the `/examples` folder for details.\n6. Utilize one of the examples below for your respective email module and start sending beautiful emails!\n\n\n## Templating Language Options (e.g. EJS Custom Tags)\n\nWant to use different opening and closing tags instead of the EJS's default `<%` and `%>`?.\n\n```js\n...\nemailTemplates(templatesDir, { open: '{{', close: '}}' }, function(err, template) {\n...\n```\n\n**NOTE**: You can also pass <a href=\"https://github.com/visionmedia/ejs#options\" target=\"_blank\">other options from EJS's documentation</a>.\n\n\n## Examples\n\n### Basic\n\nRender a template for a single email or render multiple (having only loaded the template once).\n\n```js\nvar path           = require('path')\n  , templatesDir   = path.join(__dirname, 'templates')\n  , emailTemplates = require('email-templates');\n\nemailTemplates(templatesDir, function(err, template) {\n\n  // Render a single email with one template\n  var locals = { pasta: 'Spaghetti' };\n  template('pasta-dinner', locals, function(err, html, text) {\n    // ...\n  });\n\n  // Render multiple emails with one template\n  var locals = [\n    { pasta: 'Spaghetti' },\n    { pasta: 'Rigatoni' }\n  ];\n  var Render = function(locals) {\n    this.locals = locals;\n    this.send = function(err, html, text) {\n      // ...\n    };\n    this.batch = function(batch) {\n      batch(this.locals, this.send);\n    };\n  };\n  template('pasta-dinner', true, function(err, batch) {\n    for(var user in users) {\n      var render = new Render(users[user]);\n      render.batch(batch);\n    }\n  });\n\n});\n```\n\n### [Nodemailer][3]\n\n```js\nvar path           = require('path')\n  , templatesDir   = path.resolve(__dirname, '..', 'templates')\n  , emailTemplates = require('email-templates')\n  , nodemailer     = require('nodemailer');\n\nemailTemplates(templatesDir, function(err, template) {\n\n  if (err) {\n    console.log(err);\n  } else {\n\n    // ## Send a single email\n\n    // Prepare nodemailer transport object\n    var transport = nodemailer.createTransport(\"SMTP\", {\n      service: \"Gmail\",\n      auth: {\n        user: \"some-user@gmail.com\",\n        pass: \"some-password\"\n      }\n    });\n\n    // An example users object with formatted email function\n    var locals = {\n      email: 'mamma.mia@spaghetti.com',\n      name: {\n        first: 'Mamma',\n        last: 'Mia'\n      }\n    };\n\n    // Send a single email\n    template('newsletter', locals, function(err, html, text) {\n      if (err) {\n        console.log(err);\n      } else {\n        transport.sendMail({\n          from: 'Spicy Meatball <spicy.meatball@spaghetti.com>',\n          to: locals.email,\n          subject: 'Mangia gli spaghetti con polpette!',\n          html: html,\n          // generateTextFromHTML: true,\n          text: text\n        }, function(err, responseStatus) {\n          if (err) {\n            console.log(err);\n          } else {\n            console.log(responseStatus.message);\n          }\n        });\n      }\n    });\n\n\n    // ## Send a batch of emails and only load the template once\n\n    // Prepare nodemailer transport object\n    var transportBatch = nodemailer.createTransport(\"SMTP\", {\n      service: \"Gmail\",\n      auth: {\n        user: \"some-user@gmail.com\",\n        pass: \"some-password\"\n      }\n    });\n\n    // An example users object\n    var users = [\n      {\n        email: 'pappa.pizza@spaghetti.com',\n        name: {\n          first: 'Pappa',\n          last: 'Pizza'\n        }\n      },\n      {\n        email: 'mister.geppetto@spaghetti.com',\n        name: {\n          first: 'Mister',\n          last: 'Geppetto'\n        }\n      }\n    ];\n\n    // Custom function for sending emails outside the loop\n    //\n    // NOTE:\n    //  We need to patch postmark.js module to support the API call\n    //  that will let us send a batch of up to 500 messages at once.\n    //  (e.g. <https://github.com/diy/trebuchet/blob/master/lib/index.js#L160>)\n    var Render = function(locals) {\n      this.locals = locals;\n      this.send = function(err, html, text) {\n        if (err) {\n          console.log(err);\n        } else {\n          transportBatch.sendMail({\n            from: 'Spicy Meatball <spicy.meatball@spaghetti.com>',\n            to: locals.email,\n            subject: 'Mangia gli spaghetti con polpette!',\n            html: html,\n            // generateTextFromHTML: true,\n            text: text\n          }, function(err, responseStatus) {\n            if (err) {\n              console.log(err);\n            } else {\n              console.log(responseStatus.message);\n            }\n          });\n        }\n      };\n      this.batch = function(batch) {\n        batch(this.locals, templatesDir, this.send);\n      };\n    };\n\n    // Load the template and send the emails\n    template('newsletter', true, function(err, batch) {\n      for(var user in users) {\n        var render = new Render(users[user]);\n        render.batch(batch);\n      }\n    });\n\n  }\n});\n```\n\n### [Postmark][4]\n\nThis example utilizes [Postmark.js][5].\n\n**NOTE**: Did you know `nodemailer` can also be used to send SMTP email through Postmark? See [this section][6] of their Readme for more info.\n\nFor more message format options, see [this section][7] of Postmark's developer documentation section.\n\n```js\nvar path           = require('path')\n  , templatesDir   = path.resolve(__dirname, '..', 'templates')\n  , emailTemplates = require('email-templates')\n  , postmark       = require('postmark')('your-api-key');\n\nemailTemplates(templatesDir, function(err, template) {\n\n  if (err) {\n    console.log(err);\n  } else {\n\n    // ## Send a single email\n\n    // An example users object with formatted email function\n    var locals = {\n      email: 'mamma.mia@spaghetti.com',\n      name: {\n        first: 'Mamma',\n        last: 'Mia'\n      }\n    };\n\n    // Send a single email\n    template('newsletter', locals, function(err, html, text) {\n      if (err) {\n        console.log(err);\n      } else {\n        postmark.send({\n          From: 'Spicy Meatball <spicy.meatball@spaghetti.com>',\n          To: locals.email,\n          Subject: 'Mangia gli spaghetti con polpette!',\n          HtmlBody: html,\n          TextBody: text\n        }, function(err, response) {\n          if (err) {\n            console.log(err.status);\n            console.log(err.message);\n          } else {\n            console.log(response);\n          }\n        });\n      }\n    });\n\n\n    // ## Send a batch of emails and only load the template once\n\n    // An example users object\n    var users = [\n      {\n        email: 'pappa.pizza@spaghetti.com',\n        name: {\n          first: 'Pappa',\n          last: 'Pizza'\n        }\n      },\n      {\n        email: 'mister.geppetto@spaghetti.com',\n        name: {\n          first: 'Mister',\n          last: 'Geppetto'\n        }\n      }\n    ];\n\n    // Custom function for sending emails outside the loop\n    //\n    // NOTE:\n    //  We need to patch postmark.js module to support the API call\n    //  that will let us send a batch of up to 500 messages at once.\n    //  (e.g. <https://github.com/diy/trebuchet/blob/master/lib/index.js#L160>)\n    var Render = function(locals) {\n      this.locals = locals;\n      this.send = function(err, html, text) {\n        if (err) {\n          console.log(err);\n        } else {\n          postmark.send({\n            From: 'Spicy Meatball <spicy.meatball@spaghetti.com>',\n            To: locals.email,\n            Subject: 'Mangia gli spaghetti con polpette!',\n            HtmlBody: html,\n            TextBody: text\n          }, function(err, response) {\n            if (err) {\n              console.log(err.status);\n              console.log(err.message);\n            } else {\n              console.log(response);\n            }\n          });\n        }\n      };\n      this.batch = function(batch) {\n        batch(this.locals, templatesDir, this.send);\n      };\n    };\n\n    // Load the template and send the emails\n    template('newsletter', true, function(err, batch) {\n      for(user in users) {\n        var render = new Render(users[user]);\n        render.batch(batch);\n      }\n    });\n\n  }\n});\n```\n\n## Lazyweb Requests\nThese are feature requests that we would appreciate contributors for:\n\n* Rewrite this module to have a more modular API (e.g. template caching and email queue support via kue)\n* Merge with @superjoe30 swig email templates fork\n* Add parsing of HTML with CSS inlining and HTML linting\n\n## Contributors\n* Nick Baugh <niftylettuce@gmail.com>\n* Andrea Baccega <vekexasia@gmail.com>\n* Nic Jansma (http://nicj.net)\n* Jason Sims <sims.jrobert@gmail.com>\n* Miguel Mota <hello@miguelmota.com>  \n\n[Full Contributors List](https://github.com/niftylettuce/node-email-templates/graphs/contributors)\n\n## License\n\nThe MIT License\n\nCopyright (c) 2012- Nick Baugh <niftylettuce@gmail.com> (http://niftylettuce.com/)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n[1]: https://github.com/visionmedia/ejs\n[2]: https://github.com/LearnBoost/juice\n[3]: https://github.com/andris9/Nodemailer\n[4]: http://postmarkapp.com/\n[5]: https://github.com/voodootikigod/postmark.js\n[6]: https://github.com/andris9/Nodemailer#well-known-services-for-smtp\n[7]: http://developer.postmarkapp.com/developer-build.html#message-format\n[8]: http://nodejs.org/docs/latest/api/zlib.html\n",
  "readmeFilename": "README.md",
  "_id": "email-templates@1.0.0",
  "_from": "email-templates@"
}
